<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>

    <link rel="stylesheet" href="photon/css/photon.css">

    <style>
    body {
      padding: 0;
      margin: 0;
      overflow: hidden;
    }

    div {
      padding: 0;
      margin: 0;
    }

    body {
      background: yellow;
    }

    .hidden {
      display: none;
    }

    #toolbar {
      position: absolute;
      top: 0;
      width: 100%;
      height: 49px;
      background: #FBFBFB;
      border-bottom: 1px solid #DDD;
      cursor: default;
      z-index: 50;
    }

    #toolbar div {
      cursor: default;
    }

    h1.title {
      font-size: 14px;
      font-weight: normal;
      color: black;
      position: absolute;
      left: 70px;
      right: 70px;
      height: 30px;
      margin: 0;
      padding: 0;
      text-align: center;
      overflow: hidden;
      top: 2px;
      z-index: 100;
    }

    #toolbar p.issuesMessage {
      font-family: Helvetica, sans-serif;
      font-style: oblique;
      color: #BBB;
      font-size: 9pt;
      line-height: 20px;
      left: 70px;
      right: 70px;
      top: 28px;
      bottom: 0;
      position: absolute;
      text-align: center;
      margin: 0;
    }

    #toolbar div.issuesSummary {
      font-family: Helvetica, sans-serif;
      font-style: oblique;
      color: #BBB;
      font-size: 9pt;
      line-height: 20px;
      top: 28px;
      bottom: 0;
      position: relative;
      text-align: center;
      margin: 0 auto;
      max-width: 200px;
    }

    #toolbar div.issuesSummary .issueCount {
      display: inline-block;
      font-style: normal;
      color: black;
      margin-left: 4px;
      margin-right: 4px;
    }

    #toolbar div.issuesSummary .issueCount img.issue-icon {
      vertical-align: middle;
      margin-top: -2px;
    }
    #toolbar div.issuesSummary .issueCount img.issue-icon.warning {
      margin-top: -3px;
    }
    img.issue-icon.error {
      width: 11px;
      height: 11px;
    }
    img.issue-icon.todo {
      width: 11px;
      height: 11px;
    }
    img.issue-icon.warning {
      width: 13px;
      height: 12px;
    }

    #toolbar .button {
      position: absolute;
      border: 0;
      width: 30px;
      height: 30px;
      background: none;
      top: 10px;
    }

    #toolbar .button.rewind {
      right: 10px;
    }

    #toolbar .button.step-back {
      right: 45px;
    }

    #toolbar .button:hover {
      background: #EEE;
    }

    #toolbar .button.rewind img {
      width: 19px;
      height: 19px;
      vertical-align: middle;
      margin-left: -2px;
    }

    #toolbar .button.step-back img {
      width: 12x;
      height: 16px;
      vertical-align: middle;
      margin-top: 3px;
    }

    #toolbar .issue-popup {
      position: absolute;
      top: 55px;
      left: 500px;
      min-width: 300px;
      margin: 0 auto;
      background: white;
      z-index: 10;
      border: 1px solid #E2E2E2;
    }

    #toolbar .issue-popup .table {
      max-height: 70vh;
      overflow: scroll;
    }

    #toolbar .issue-popup {
      border-radius: 6px;
    }
    #toolbar .issue-popup .row:first-child {
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
    }
    #toolbar .issue-popup .row:last-child {
      border-bottom-left-radius: 6px;
      border-bottom-right-radius: 6px;
    }
    #toolbar .issue-popup .row:first-child .col:first-child {
      border-top-left-radius: 6px;
    }
    #toolbar .issue-popup .row:first-child .col:last-child {
      border-top-right-radius: 6px;
    }
    #toolbar .issue-popup .row:last-child .col:first-child {
      border-bottom-left-radius: 6px;
    }
    #toolbar .issue-popup .row:last-child .col:last-child {
      border-bottom-right-radius: 6px;
    }

    #toolbar .issue-popup .row {
      display: block;
      position: relative;
      margin: 0;
      padding: 0;
      height: 30px;
    }

    #toolbar .issue-popup .row:hover {
      background: #F9F9F9;
    }

    #toolbar .issue-popup .row {
      border-bottom: 1px solid #E1E1E1;
    }
    #toolbar .issue-popup .row:last-child {
      border-bottom: none;
    }

    #toolbar .issue-popup .col {
      display: block;
      position: relative;
      height: 100%;
      float: left;
      padding: 0;
      margin: 0;
    }

    #toolbar .issue-popup .line-no {
      font-family: Monaco, sans-serif;
      width: 30px;
      height: 30px;
      background: #F9F9F9;
      border-right: 1px solid #E1E1E1;
      font-size: 10px;
      line-height: 30px;
      text-align: right;
      padding-right: 5px;
    }

    #toolbar .issue-popup .issue {
      height: 30px;
      padding-left: 10px;
      padding-right: 10px;
      font-size: 11px;
      font-family: Helvetica, sans-serif;
      line-height: 30px;
    }

    #toolbar .issue-popup img.chevron {
      width: 8px;
      height: 14px;
      float: right;
      padding: 7px;
    }

    #toolbar .issue-popup img.nubbin {
      width: 20px;
      height: 13px;
      position: absolute;
      left: 50%;
      margin-left: -10px;
      top: -12px;
    }

    #toolbar .issue-popup .error .issue {
      color: #CE5D5D;
    }

    #toolbar .issue-popup .warning .issue {
      color: #F5B750;
    }

    #toolbar .issue-popup .todo .issue {
      color: #82C39C;
    }

    .sidebar {
      display: absolute;
      width: 199px;
      border-right: 1px solid #DDD;;
      left: 0;
      top: 0;
      height: 100%;
      z-index: 1;
      overflow: scroll;
    }

    .sidebar, .sidebar * {
      cursor: default;
    }

    .twopane {
      position: absolute;
      left: 200px;
      right: 0;
      top: 0;
      bottom: 0;
    }

    #main {
      display: block;
      position: absolute;
      top: 50px;
      left: 0;
      right: 0;
      bottom: 0;
      background: white;
    }

    #editor {
      display: block;
      position: absolute;
      width: 50%;
      top: 0;
      bottom: 0;
      left: 0;
    }

    #editor .ace-error {
      background: #ffd1d1;
      position:absolute;
    }

    #editor .ace_gutter-cell.ace_error {
      background-image: url("img/error-icon.png");
      background-size: 11px 11px;
      background-repeat: no-repeat;
      background-position: left 2px top 2px;
    }

    #editor .ace-warning {
      background: #ffedbf;
      position:absolute;
    }

    #editor .ace-todo {     /* issue from compiler */
      position:absolute;
    }

    #editor .ace-todo,      /* issue from compiler */
    #editor span.ace_todo   /* syntax highlighter */
    {
      background: #bffff1;
    }

    #editor .ace_gutter-layer {
      background: white;
      border-right: none;
    }

    #editor .ace_gutter-layer .ace_gutter-cell {
      color: #CCC;
    }

    #editor .ace_tooltip {
      font-family: Helvetica, sans-serif;
      padding: 7px;
      border: 1px solid #DDD;
      border-radius: 4px;
      background: #F8F8F8;
      box-shadow: 0 3px 5px 0px rgba(0,0,0,0.1);
    }

    /* Flow related stuff in blue */
    #editor span.ace_flow.ace_declaration, 
    #editor span.ace_divert, 
    #editor span.ace_choice.ace_bullets,
    #editor span.ace_choice.ace_label,
    #editor span.ace_choice.ace_weaveBracket,
    #editor span.ace_gather.ace_bullets,
    #editor span.ace_gather.ace_label {
      color: blue;
    }

    #editor span.ace_divert.ace_target {
      text-decoration: underline;
    }

    /* Logic */
    #editor span.ace_var-decl {
      color: green;
    }

    #player {
      display: block;
      position: absolute;
      width: 50%;
      top: 0;
      bottom: 0;
      right: 0;
      border-left: 1px solid #DDD;
      float: left;
    }

    #player .innerText {
      position: relative;
      padding: 10px 0 50px 0;
      margin: 0;
    }

    #player .innerText p {
      padding: 0 40px 0 40px;
    }

    #player {
      font-family: Verdana, Geneva, sans-serif;
      font-weight: lighter;
      color: #555;
      overflow: scroll;
    }

    #player hr {
      border: 0;
      border-top: 1px solid #CCC;
      width: 100%;
      margin: 0 auto;
    }

    #player p.choice {
      text-align: center;
    }

    #player p.choice a {
      color: #BBB;
      transition: color 0.2s;
      text-decoration: none;
    }

    #player p.choice a:hover {
      color: #555;
      text-decoration: underline;
    }

    #player p.end {
      font-weight: bold;
      text-align: center;
    }

    #player p.error, #player p.error a {
      font-weight: bold;
      color: #C56D6D;
      font-size: 10pt;
      text-align: center;
      font-weight: normal;
    }

    #player p.error a:hover {
      color: black;
    }

    #restart {
      right: 5px;
      top: 5px;
    }

    #stepback {
      right: 110px;
      top: 5px;
    }

    .button {
      font-family: Verdana, Geneva, sans-serif;
      font-size: 10pt;
      color: #444;
      width: 100px;
      height: 25px;
      position: absolute;
      text-align: center;
      line-height: 25px;
      border-radius: 3px;
      border: 1px solid #BBB;
    }

    .button:hover {
      background: #EEE;
    }

    </style>

    <div class="window">
      
      <h1 class="title">Untitled.ink</h1>

      <div id="toolbar" class="draggable">
        
        <p class="issuesMessage hidden">No issues.</p>
        <div class="issuesSummary hidden">
          <div class="issueCount todo"><span>4</span> <img class="issue-icon todo" src="img/todo-icon.png"/></div>
          <div class="issueCount warning"><span>4</span> <img class="issue-icon warning" src="img/warning-icon.png"/></div>
          <div class="issueCount error"><span>4</span> <img class="issue-icon error" src="img/error-icon.png"/></div>
        </div>
        <div class="button step-back" title="Rewind a single choice">
          <img src="img/step-back.png"/>
        </div>
        <div class="button rewind" title="Restart story">
          <img src="img/rewind.png"/>
        </div>
        <div class="issue-popup hidden">
          <img class="nubbin" src="img/nubbin.png"/>
          <div class="table">
          </div> <!-- table  -->
        </div>
        
      </div>

      <div class="window-content">

        <div id="main">
           <div class="sidebar">

            <nav class="nav-group main-ink">
              <h5 class="nav-group-title">Main ink file</h5>
              <a class="nav-group-item active">
                <span class="icon icon-book"></span>
                <span class="filename">Untitled.ink</span>
              </a>
            </nav>

            <!-- nav class="nav-group">
              <h5 class="nav-group-title">Scenes/Cliff</h5>
              <span class="nav-group-item">
                <span class="icon icon-doc-text"></span>
                cliff.ink
              </span>
              <span class="nav-group-item">
                <span class="icon icon-doc-text"></span>
                cliffExit.ink
              </span>
            </nav>

            <nav class="nav-group">
              <h5 class="nav-group-title">System</h5>
              <span class="nav-group-item">
                <span class="icon icon-doc-text"></span>
                system.ink
              </span>
              <span class="nav-group-item">
                <span class="icon icon-doc-text"></span>
                swings.ink
              </span>
            </nav -->

          </div><!-- sidebar -->

          <div class="twopane">
            <div id="editor"></div>
            <div id="player">
              <div class="innerText">
              </div>
            </div>
          </div>
        </div>

      </div><!-- photon window-content -->
    </div><!-- photon window -->

  </body>

  <script src="acesrc/ace.js" type="text/javascript" charset="utf-8"></script>
  <script src="acesrc/ext-language_tools.js"></script>
  <script>
    // You can also require other files to run in this process
    require('./renderer.js');
  </script>
</html>
